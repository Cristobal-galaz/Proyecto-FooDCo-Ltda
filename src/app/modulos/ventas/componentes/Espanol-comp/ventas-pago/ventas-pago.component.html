<div class="ventas-pago-container">
  <!-- Botón para cambiar de idioma en la esquina superior derecha -->
  <button class="language-switch" (click)="cambiarIdioma()">
    {{ idioma === 'es' ? 'Cambiar a Inglés' : 'Switch to Spanish' }}
  </button>

  <!-- Filtro de estado de pago -->
  <div class="top-right-buttons">
    <p>{{ idioma === 'es' ? 'Filtro estado de pago' : 'Payment Status Filter' }}</p>
    <button
      class="btn"
      [ngClass]="{ 'active-button': activeButton === 1 }"
      (click)="setActiveButton(1)"
    >
      {{ idioma === 'es' ? 'Pendientes' : 'Pending' }}
    </button>
    <button
      class="btn"
      [ngClass]="{ 'active-button': activeButton === 2 }"
      (click)="setActiveButton(2)"
    >
      {{ idioma === 'es' ? 'Completados' : 'Completed' }}
    </button>
  </div>

  <!-- Detalles de pago -->
  <div class="ventas-pago">
    <h1>{{ idioma === 'es' ? 'Detalles de Pago' : 'Payment Details' }}</h1>

    <div class="order-details" *ngFor="let order of filteredOrders">
      <!-- Botón para alternar visibilidad -->
      <button class="pago" (click)="toggleVisibility(order)">
        {{ idioma === 'es' ? 'Orden de compra N°' : 'Purchase Order No.' }} {{ order.numeroOrden }}
      </button>

      <!-- Contenido controlado por visibilidad -->
      <div *ngIf="order.isVisible">
        <p><strong>{{ idioma === 'es' ? 'Usuario:' : 'Username:' }}</strong> {{ order.username }}</p>
        <p><strong>{{ idioma === 'es' ? 'Correo Electrónico:' : 'Email:' }}</strong> {{ order.email }}</p>
        <p><strong>{{ idioma === 'es' ? 'Número de Orden:' : 'Order Number:' }}</strong> {{ order.numeroOrden }}</p>

        <div class="order-box">
          <h2>{{ idioma === 'es' ? 'Detalles de la Orden' : 'Order Details' }}</h2>
          <div class="cuotas-list">
            <h3>{{ idioma === 'es' ? 'Cuotas' : 'Installments' }}</h3>
            <div class="cuotas-box">
              <table>
                <thead>
                  <tr>
                    <th>{{ idioma === 'es' ? 'Cuota' : 'Installment' }}</th>
                    <th>{{ idioma === 'es' ? 'Estado' : 'Status' }}</th>
                    <th>{{ idioma === 'es' ? 'Monto' : 'Amount' }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let cuota of order.detallesCuotas.listaCuotas">
                    <td><strong>{{ cuota.numeroCuota }}</strong></td>
                    <td>{{ cuota.estado }}</td>
                    <td>{{ cuota.monto | currency }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
